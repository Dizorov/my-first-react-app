{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/MoviePages.jsx","components/MoviesWillWatch.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","classes","classNames","active","MoviePages","prevPage","disabled","page","total_pages","nextPage","MoviesWillWatch","moviesWillWatch","map","movie","key","id","App","updateMovies","movies","filter","item","updateMoviesWillWatch","getMovies","fetch","then","response","json","results","console","log","prevProps","prevState","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ac910dc5.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n            data.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    this.setState({\n                      willWatch: true\n                    });\n                    addMovieToWillWatch(data);\n                  }}\n                >\n                  Will Watch\n              </button>\n              )}\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nclass MovieTabs extends React.Component {\r\n  // UNSAFE_componentWillReceiveProps(nextProps, nextState) {\r\n  //   console.log(nextProps.sort_by);\r\n  // }\r\n  // shouldComponentUpdate(nextProps) {\r\n  //   if (nextProps.sort_by !== this.props.sort_by) {\r\n  //     return true;\r\n  //   }\r\n  //   return false;\r\n  // }\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleClick = value => () => {\r\n      updateSortBy(value);\r\n    };\r\n\r\n    const classes = value => {\r\n      return classNames(\"nav-link\", { active: sort_by === value });\r\n    };\r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={classes(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={classes(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={classes(\"vote_average.desc\")}\r\n            onClick={handleClick(\"vote_average.desc\")}\r\n          >\r\n            Average desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n\r\nclass MoviePages extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex justify-content-between\">\r\n        <button\r\n          className=\"btn btn-secondary\"\r\n          type=\"button\"\r\n          onClick={this.props.prevPage}\r\n          disabled={this.props.page === 1}\r\n        >\r\n          Prev\r\n        </button>\r\n        <p>\r\n          Page {this.props.page} of {this.props.total_pages}\r\n        </p>\r\n        <button\r\n          className=\"btn btn-secondary\"\r\n          type=\"button\"\r\n          onClick={this.props.nextPage}\r\n          disabled={this.props.page === this.props.total_pages}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviePages;\r\n","import React from 'react';\r\n\r\nconst MoviesWillWatch = props => {\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {props.moviesWillWatch.map(movie => (\r\n        <li key={movie.id} className=\"list-group-item\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <p>{movie.title}</p>\r\n            <p>{movie.vote_average}</p>\r\n          </div>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default MoviesWillWatch;\r\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\nimport MovieTabs from \"./MovieTabs\";\nimport MoviePages from \"./MoviePages\";\nimport MoviesWillWatch from \"./MoviesWillWatch\";\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"popularity.desc\",\n      page: 1,\n      total_pages: 0\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"did mount\");\n    this.getMovies({ page: 1 });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.sort_by !== prevState.sort_by) {\n      this.getMovies({ page: 1 });\n    }\n    if (this.state.page !== prevState.page) {\n      this.getMovies({ page: this.state.page });\n    }\n  }\n\n  deleteMovie = movie => {\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n\n    // this.state.movies = updateMovies;\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value\n    });\n  };\n\n  nextPage = () => {\n      this.setState({\n        page: this.state.page + 1\n      });\n  };\n\n  prevPage = () => {\n      this.setState({\n        page: this.state.page - 1\n      });\n    }\n\n  getMovies = ({ page }) => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${\n        this.state.sort_by\n      }&page=${page}`\n    )\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        // console.log(data);\n        this.setState({\n          movies: data.results,\n          total_pages: data.total_pages,\n          page: data.page,\n        });\n        // console.log(this.state);\n      });\n  };\n\n  render() {\n    console.log(\"render\");\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row mt-4\">\n          <div className=\"col-lg-9\">\n            <div className=\"mb-4\">\n              <MovieTabs\n                sort_by={this.state.sort_by}\n                updateSortBy={this.updateSortBy}\n              />\n            </div>\n            <div className=\"mb-4\">\n              <MoviePages\n                page={this.state.page}\n                total_pages={this.state.total_pages}\n                prevPage={this.prevPage}\n                nextPage={this.nextPage}\n              />\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-sm-6 col-lg-4 mb-4\" key={movie.id}>\n                    <MovieItem\n                      data={movie}\n                      deleteMovie={this.deleteMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"mb-4\">\n              <MoviePages\n                page={this.state.page}\n                total_pages={this.state.total_pages}\n                prevPage={this.prevPage}\n                nextPage={this.nextPage}\n              />\n            </div>\n          </div>\n          <div className=\"col-lg-3\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <MoviesWillWatch moviesWillWatch={this.state.moviesWillWatch} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}